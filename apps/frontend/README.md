# ASKED Store Frontend

Frontend приложение для ASKED Store на React + TypeScript + Vite.

## Версия

**v1.0.0** — Загрузочный экран + базовый флоу авторизации

## Установка и запуск

```bash
cd apps/frontend
npm install
npm run dev
```

Приложение будет доступно по адресу `http://localhost:5173`

## Функциональность

### Загрузочный экран (`/`)

При открытии приложения пользователь видит загрузочный экран с:

- **Анимацией летающих промокодов** — фоновые элементы с текстами типа "-10%", "FREE", "ASKED" и т.д.
- **Логотипом ASKED Store** — в центре экрана
- **Приветственным сообщением** — "Добро пожаловать, [Имя]!" (или "Гость" если не авторизован)
- **Прогресс-баром** — показывает прогресс загрузки/авторизации
- **Кнопкой авторизации через Telegram** — для входа в систему

#### Логика работы:

1. **Если пользователь уже авторизован** (данные в localStorage):
   - Прогресс-бар плавно доходит до 100%
   - Автоматический редирект на `/app`

2. **Если пользователь не авторизован**:
   - Прогресс-бар останавливается на ~35%
   - Появляется сообщение "Для продолжения войдите через Telegram"
   - При нажатии на кнопку "Продолжить через Telegram":
     - Вызывается мок-функция авторизации
     - Данные пользователя сохраняются в контекст и localStorage
     - Прогресс продолжается до 100%
     - Автоматический редирект на `/app`

### Главная страница (`/app`)

Заглушка главной страницы приложения. В будущем здесь будет основной функционал.

## Структура проекта

```
src/
  components/
    FloatingPromocodes.tsx    # Компонент анимации промокодов
    FloatingPromocodes.css
  context/
    UserContext.tsx            # Контекст пользователя
  hooks/
    useLoadingProgress.ts     # Хук для управления прогресс-баром
    useTelegramAuth.ts        # Хук для авторизации через Telegram
  pages/
    LoadingScreen.tsx         # Загрузочный экран
    LoadingScreen.css
    MainPlaceholder.tsx       # Заглушка главной страницы
    MainPlaceholder.css
  services/
    telegramAuth.ts           # Сервис авторизации (пока мок)
  App.tsx                     # Корневой компонент с маршрутизацией
  main.tsx                    # Точка входа
  index.css                   # Глобальные стили
```

## Авторизация через Telegram

### Текущая реализация (мок)

Сейчас используется мок-функция `mockTelegramLogin()` в `src/services/telegramAuth.ts`, которая возвращает тестовые данные пользователя.

### Планируемая реализация

В файле `src/services/telegramAuth.ts` оставлены комментарии с описанием реального флоу:

1. Подключение Telegram script
2. Инициализация Telegram Login Widget / WebApp
3. Получение данных пользователя от Telegram
4. Отправка данных на backend `/api/auth/telegram`
5. Получение JWT токена
6. Сохранение токена и данных пользователя

## Технологии

- **React 18** — UI библиотека
- **TypeScript** — типизация
- **Vite** — сборщик и dev-сервер
- **React Router** — маршрутизация
- **CSS Modules / CSS** — стилизация

## Скрипты

- `npm run dev` — запуск dev-сервера с hot-reload
- `npm run build` — сборка production версии
- `npm run preview` — предпросмотр production сборки

## TODO

- [ ] Интеграция реального Telegram Login Widget / WebApp
- [ ] Подключение к backend API для авторизации
- [ ] Реализация основной функциональности на `/app`
- [ ] Добавление обработки ошибок авторизации
- [ ] Улучшение анимаций и переходов




